<h1 align="center">
  crossplane-explorer
</h1>

<p align="center">
  üß∞ A terminal based UI to explore Crossplane traces
</p>

![demo gif](./demo.gif)

`crossplane-explorer` provides a terminal based UI (similar to `k9s`) to interactively explore Crossplane traces,
making it easier to navigate, debug and understand objects. It leverages `crossplane trace` to render the object tree.

## ‚ú® Features

### Trace

- ‚ú® Expanded details at a glance, with highlight colouring for possible issues
- üìñ Show YAML objects from the explorer, without needing to separately execute kubectl
- üìñ View clean object YAMLs without `managedFields` (useful on apply, not as much on describe/get)
- üìã Copy full qualified objects names straight from UI (API group + Kind + name)
- ‚ôªÔ∏è Automatic refresh

### Wish-list

- Allow describing objects (kubectl describe)
- Allow mutating resource annotations (pause, finaliser)

## üìÄ Install

> ‚ö†Ô∏è **You must have `crossplane`, `kubectl` and some pager (eg: `less`) installed, since this application runs the CLI within it**
> **The pager used will match whatever is used as `PAGER` in your environment (could be `bat`). It defaults to `less`.**

### Linux and Windows

[Check the releases section](https://github.com/brunoluiz/crossplane-explorer/releases) for more information details.

### MacOS

```
brew install brunoluiz/tap/crossplane-explorer
```

### Other

Use `go install` to install it

```
go install github.com/brunoluiz/crossplane-explorer/cmd/crossplane-explorer@latest
```

## ‚öôÔ∏è Usage

```
# Loads a trace
crossplane-explorer trace -n <namespace> Object/hello-world

# Loads a trace with live reload
crossplane-explorer trace -n <namespace> --watch Object/hello-world

# Loads a trace generated by `crossplane beta trace -o json <>`
cat <trace.json> | crossplane-explorer trace --stdin
crossplane beta trace -o json <> | crossplane-explorer trace --stdin
```

### Navigation

- `h/?`: show help
- `arrow keys or j/k`: cursor up/down
- `enter/y`: executes `kubectl get` on the resource
- `d`: executes `kubectl describe` on the resource
- `e`: executes `kubectl edit` on the resource
- `ctrl+d`: executes `kubectl delete` on the resource
- `/`: search (ENTER to submit, ESC to clear)
- `n/N`: navigate between search results
- `ctrl+f/ctrl+b | pageUp/pageDown`: jumps full page of results (up or down)
- `q/ctrl+c`: quit
